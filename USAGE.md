# Photo Watermark 2 - 使用说明

## 快速开始

### 1. 运行程序
```bash
python main.py
```

### 2. 导入图片
- 点击左侧"选择图片"按钮选择单张或多张图片
- 点击"选择文件夹"按钮导入整个文件夹的图片
- 图片会显示在左侧列表中

### 3. 设置水印
在右侧面板中配置水印参数：

#### 文本水印设置
- **文本内容**: 输入要显示的水印文字
- **字体**: 选择系统字体
- **字体大小**: 调整文字大小 (8-200)
- **字体颜色**: 点击"选择颜色"按钮选择颜色
- **阴影/描边**: 勾选可添加阴影或描边效果

#### 图片水印设置
- **水印图片**: 点击"选择"按钮选择PNG图片（支持透明）
- **缩放比例**: 调整水印图片大小 (0.1-5.0)

#### 通用设置
- **透明度**: 调整水印透明度 (0-100%)
- **旋转角度**: 旋转水印 (-180°到180°)

#### 位置设置
- 点击九宫格按钮快速定位水印位置
- 支持九个预设位置：左上、上中、右上、左中、中心、右中、左下、下中、右下

### 4. 预览效果
- 在中央预览区域查看水印效果
- 使用"上一张"/"下一张"按钮切换图片
- 点击"刷新预览"更新显示

### 5. 导出图片

#### 导出设置
- **输出文件夹**: 选择保存位置（建议与原文件夹不同）
- **命名规则**: 
  - 原名：保持原文件名
  - 前缀：添加前缀（如 wm_）
  - 后缀：添加后缀（如 _watermarked）
- **输出格式**: 选择JPEG或PNG
- **质量**: 调整JPEG压缩质量 (1-100)

#### 执行导出
- **批量导出**: 导出所有图片
- **导出当前**: 只导出当前预览的图片

## 高级功能

### 模板管理
1. **保存模板**: 输入模板名称，点击"保存模板"保存当前水印设置
2. **加载模板**: 在模板列表中选择模板，点击"加载模板"
3. **删除模板**: 选择模板后点击"删除模板"

### 批量处理
- 支持同时处理多张图片
- 自动应用相同的水印设置
- 显示导出进度和结果统计

## 支持的图片格式

### 输入格式
- JPEG (.jpg, .jpeg)
- PNG (.png) - 支持透明通道
- BMP (.bmp)
- TIFF (.tiff, .tif)

### 输出格式
- JPEG - 适合照片，文件较小
- PNG - 支持透明，适合需要保持透明度的图片

## 注意事项

1. **文件安全**: 默认禁止导出到原文件夹，防止覆盖原图
2. **内存使用**: 处理大量高分辨率图片时注意内存使用
3. **透明通道**: PNG图片水印支持透明效果
4. **字体选择**: 某些字体可能在不同系统上显示不同
5. **配置保存**: 程序会自动保存设置，下次启动时恢复

## 故障排除

### 常见问题
1. **图片无法加载**: 检查图片格式是否支持
2. **字体显示异常**: 尝试更换字体或使用默认字体
3. **导出失败**: 检查输出文件夹权限和磁盘空间
4. **程序崩溃**: 检查config文件夹中的错误日志

### 重置设置
点击"重置设置"按钮可恢复默认配置

## 构建可执行文件

### 安装依赖
```bash
pip install -r requirements.txt
```

### 构建EXE
```bash
python build_exe.py
```

构建完成后会在以下位置生成可执行文件：
- `dist/PhotoWatermark2.exe` - 单文件版本
- `PhotoWatermark2_Portable/` - 便携版本文件夹

## 系统要求

- Windows 10/11
- Python 3.7+ (开发环境)
- 至少 100MB 可用磁盘空间
- 建议 4GB+ 内存用于处理大图片
