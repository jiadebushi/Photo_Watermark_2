# 快速开始指南

## 安装

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

这将安装以下库：
- Pillow (图像处理)
- opencv-python (图片水印)
- numpy (数值计算)
- pyinstaller (打包工具)
- tkinterdnd2 (拖拽支持)

### 2. 运行程序

```bash
python main.py
```

## 基础使用

### 导入图片

有4种方式导入图片：

1. **拖拽导入** ⭐推荐
   - 直接将图片文件拖到程序窗口

2. **选择单张**
   - 点击"选择单张"按钮
   - 选择一张图片

3. **批量选择**
   - 点击"批量选择"按钮
   - 一次性选择多张图片

4. **选择文件夹**
   - 点击"选择文件夹"按钮
   - 导入整个文件夹的所有图片

### 添加文本水印

1. 切换到**"文本水印"**标签页

2. 基础设置：
   - **水印文本**：输入要显示的文字
   - **字体**：选择字体（支持中英文）
   - **字体大小**：调整文字大小（滑块）
   - **颜色**：点击颜色框选择颜色

3. 样式设置：
   - ☑️ **粗体**：加粗文字
   - ☑️ **斜体**：倾斜文字
   - ☑️ **阴影**：添加阴影效果
   - ☑️ **描边**：添加描边效果

4. 通用设置：
   - **透明度**：0-100（100为不透明）
   - **旋转角度**：任意角度

5. 位置设置：
   - 选择九宫格位置，或
   - 选择"自定义（拖拽）"后直接在预览图上拖动水印

### 添加图片水印

1. 切换到**"图片水印"**标签页

2. 选择水印图片：
   - 点击"选择"按钮
   - 选择PNG图片（建议使用透明背景）

3. 调整设置：
   - **缩放比例**：拖动滑块调整大小（0.1x - 5.0x）
   - **透明度**：调整水印透明度
   - **旋转角度**：旋转水印

4. 位置设置：
   - 同文本水印，支持九宫格和拖拽

### 导出图片

1. 设置输出文件夹：
   - 点击"浏览"选择保存位置
   - ⚠️ 不建议选择原图片所在文件夹

2. 选择命名规则：
   - **原名**：保持原文件名（会覆盖！）
   - **前缀** ⭐推荐：添加前缀（默认：`wm_`）
   - **后缀**：添加后缀（默认：`_watermarked`）

3. 选择输出格式：
   - **JPEG**：可调整质量（0-100）
   - **PNG**：保留透明度

4. （可选）调整图片尺寸：
   - ☑️ **调整尺寸**
   - 选择按百分比或指定宽高
   - ☑️ **保持比例**

5. 导出：
   - **导出当前**：只导出当前查看的图片
   - **批量导出** ⭐推荐：导出所有已导入的图片

## 模板管理

### 保存模板

1. 配置好水印设置后
2. 在"模板名称"输入框输入名称（如：`公司Logo`）
3. 点击"保存模板"
4. ✅ 模板已保存

### 使用模板

1. 点击"模板"下拉框
2. 选择已保存的模板
3. 水印设置自动应用

### 删除模板

1. 选择要删除的模板
2. 点击"删除模板"
3. 确认删除

## 快捷操作

### 键盘快捷键

- **上/下方向键**：切换上一张/下一张图片（图片列表获得焦点时）
- **Delete键**：删除当前选中的图片（图片列表获得焦点时）

### 鼠标操作

- **拖拽水印**：在预览图上直接拖动水印到想要的位置
- **滚轮滚动**：在设置面板使用鼠标滚轮上下滚动

## 实用技巧

### 技巧1：批量处理相同水印

1. 导入所有图片（文件夹导入最快）
2. 设置好水印样式
3. 选择输出文件夹
4. 点击"批量导出"
5. ☕ 等待处理完成

### 技巧2：制作透明Logo水印

1. 准备PNG格式的透明Logo
2. 切换到"图片水印"标签页
3. 选择Logo文件
4. 调整缩放比例（建议0.3-0.8）
5. 调整透明度（建议50-80）
6. 选择合适位置（通常是右下角）

### 技巧3：保存常用水印模板

1. 公司Logo：保存为"公司标识"
2. 版权声明：保存为"版权文字"
3. 社交媒体：保存为"抖音水印"、"微博水印"等
4. 下次使用时直接选择模板即可

### 技巧4：防止覆盖原图

✅ **始终使用前缀或后缀命名**
- 默认前缀 `wm_` 已经很好用
- 或者选择一个专门的导出文件夹

❌ **不要使用"原名"并导出到原文件夹**
- 这样会覆盖原图！

## 常见问题

### Q: 文本水印显示不完整？
A: 增大字体边距或减小字体大小。如果是旋转导致的，可以尝试减小旋转角度。

### Q: 图片水印不显示？
A: 
1. 确认已选择水印图片
2. 检查透明度是否为0（完全透明）
3. 检查缩放比例是否过小

### Q: 批量导出很慢？
A: 这是正常的，大量图片处理需要时间。程序使用多线程处理，请耐心等待。不要关闭程序。

### Q: 中文字体不支持粗体/斜体？
A: 中文字体使用模拟粗体和斜体效果（绘制多层和仿射变换）。

### Q: 想要更多字体？
A: 当前只支持8种常用字体以确保跨系统兼容性。这些字体在大多数Windows系统上都可用。

## 系统要求

- **操作系统**：Windows 10/11
- **Python版本**：3.7+
- **内存**：建议4GB以上
- **磁盘空间**：安装后约200MB

## 获取帮助

- 查看 `功能清单.md` 了解所有功能
- 查看 `USAGE.md` 了解详细使用说明
- 查看 `更新说明.md` 了解最新更新

